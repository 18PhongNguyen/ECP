import './polyfills.server.mjs';
import{A as h,B as a,D as f,V as d,ea as y,tb as p,v as _,x as o}from"./chunk-FWOWWAD4.mjs";var r=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(r||{});function R(t,s){return{type:r.Trigger,name:t,definitions:s,options:{}}}function C(t,s=null){return{type:r.Animate,styles:s,timings:t}}function g(t,s=null){return{type:r.Sequence,steps:t,options:s}}function k(t){return{type:r.Style,styles:t,offset:null}}function O(t,s,e){return{type:r.State,name:t,styles:s,options:e}}function j(t,s,e=null){return{type:r.Transition,expr:t,animation:s,options:e}}var D=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=o({token:t,factory:()=>a(F),providedIn:"root"})}}return t})(),l=class{},F=(()=>{class t extends D{constructor(e,n){super(),this.animationModuleType=a(d,{optional:!0}),this._nextAnimationId=0;let i={id:"0",encapsulation:f.None,styles:[],data:{animation:[]}};if(this._renderer=e.createRenderer(n.body,i),this.animationModuleType===null&&!E(this._renderer))throw new _(3600,!1)}build(e){let n=this._nextAnimationId;this._nextAnimationId++;let i=Array.isArray(e)?g(e):e;return m(this._renderer,null,n,"register",[i]),new u(n,this._renderer)}static{this.\u0275fac=function(n){return new(n||t)(h(y),h(p))}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),u=class extends l{constructor(s,e){super(),this._id=s,this._renderer=e}create(s,e){return new c(this._id,s,e||{},this._renderer)}},c=class{constructor(s,e,n,i){this.id=s,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(s,e){return this._renderer.listen(this.element,`@@${this.id}:${s}`,e)}_command(s,...e){m(this._renderer,this.element,this.id,s,e)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){return S(this._renderer)?.engine?.players[this.id]?.getPosition()??0}};function m(t,s,e,n,i){t.setProperty(s,`@@${e}:${n}`,i)}function S(t){let s=t.\u0275type;return s===0?t:s===1?t.animationRenderer:null}function E(t){let s=t.\u0275type;return s===0||s===1}export{R as a,C as b,k as c,O as d,j as e,D as f};
