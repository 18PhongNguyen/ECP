import{a as f}from"./chunk-CVRWLSA2.js";import{a as T}from"./chunk-GUPPVHVY.js";import{a as q}from"./chunk-7R2DM6PD.js";import{Ba as v,Ca as p,Eb as E,F as x,Fa as S,M as l,Ma as o,N as u,Na as m,Qa as g,Ra as k,Xa as C,Y as _,Ya as P,Z as n,_ as d,ia as h,ka as I,lb as w,rb as B,sa as i,sb as D,ta as r,ua as y,ya as b}from"./chunk-LQR3BN6S.js";import"./chunk-4CLCTAJ7.js";function j(a,t){if(a&1){let e=b();i(0,"div",2)(1,"div",3),y(2,"img",4),r(),i(3,"div",3)(4,"h3"),o(5),r(),i(6,"p",5),o(7),C(8,"currency"),r(),i(9,"div",6)(10,"i",7),v("click",function(){l(e);let c=p();return u(c.decrementQuantity())}),r(),i(11,"span",8),o(12),r(),i(13,"i",9),v("click",function(){l(e);let c=p();return u(c.incrementQuantity())}),r(),i(14,"button",10),v("click",function(){l(e);let c=p();return u(c.addItemToBasket())}),o(15,"Add to Cart"),r()()(),i(16,"div",11)(17,"div",12)(18,"h4"),o(19,"Description"),r(),i(20,"p"),o(21),r()()()()}if(a&2){let e=p();n(2),S("src",e.product.pictureUrl,_),S("alt",e.product.name),n(3),m(e.product.name),n(2),m(P(8,6,e.product.price)),n(5),m(e.quantity),n(9),m(e.product.description)}}var V=class a{constructor(t,e,s,c){this.shopService=t;this.activateRoute=e;this.bcService=s;this.basketService=c;this.bcService.set("@productDetails"," ")}product;quantity=1;ngOnInit(){this.loadProduct()}loadProduct(){let t=this.activateRoute.snapshot.paramMap.get("id");t&&this.shopService.getProduct(+t).subscribe({next:e=>{this.product=e,this.bcService.set("@productDetails",e.name)},error:e=>{console.error("Error fetching products:",e)},complete:()=>{console.log("Fetch completed")}})}addItemToBasket(){this.product&&this.basketService.addItemToBasket(this.product,this.quantity)}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity>1&&this.quantity--}mapProductItemToBasketItem(t,e){return{id:t.id,productName:t.name,price:t.price,quantity:e,pictureUrl:t.pictureUrl,brand:t.productBrand,type:t.productType}}static \u0275fac=function(e){return new(e||a)(d(f),d(E),d(q),d(T))};static \u0275cmp=x({type:a,selectors:[["app-product-details"]],standalone:!0,features:[g([f]),k],decls:2,vars:1,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"img-fluid","w-100",3,"src","alt"],[2,"font-size","larger"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fa","fa-minus-circle","text-warning","me-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"font-weight-bold",2,"font-size","1.5em"],[1,"fa","fa-plus-circle","text-warning","mx-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"btn","btn-outline-primary","btn-lg","ms-4",3,"click"],[1,"row","mt-5"],[1,"col-12","ms-3"]],template:function(e,s){e&1&&(i(0,"div",0),h(1,j,22,8,"div",1),r()),e&2&&(n(),I("ngIf",s.product))},dependencies:[D,w,B]})};export{V as ProductDetailsComponent};
